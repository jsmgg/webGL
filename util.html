<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>图片纹理</title>
<style id="test">
body{background:#666}
</style>
</head>
<body style="width:100%;height:100%;min-width:100px;min-height:100px;">
<div style="width:20px;height:20px;position:absolute;left:50px;top:100px;background:red;">
<script>
function loadjs( src, fn ){
    var script = document.createElement( 'script' ),
        timer;
    script.onload = function() {
        clearTimeout( timer );
        fn( 'onload' );
    };
    script.onerror = function() {
        clearTimeout( timer );
        fn( 'onerror' );
    };
    script.onabort = function() {
        clearTimeout( timer );
        fn( 'onabort' );
    };
    timer = setTimeout( function() {
        fn( 'timeout' );
        script.onload = script.onerror = script.onabort = function(){};
        script = null;
    }, 30000);
    script.src = src;
    document.body.appendChild( script );
}
setTimeout( function() {
    loadjs('js/query.js', function( msg ){
        alert(msg);
    });
}, 5000);
</script>
</body>
</html>